<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Slot Machine ‚Äî Animated</title>
<style>
  :root{
    --bg:#0f1724; --panel:#0b1220; --accent:#f59e0b; --muted:#94a3b8;
  }
  *{box-sizing:border-box;font-family:Inter,system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial;}
  body{margin:0;min-height:100vh;background:linear-gradient(180deg,#071024 0%,#071626 60%);color:#e6eef8;display:flex;align-items:center;justify-content:center;padding:28px;}
  .container{width:920px;max-width:100%;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.06));border:1px solid rgba(255,255,255,0.03);padding:20px;border-radius:12px;display:grid;grid-template-columns:1fr 360px;gap:18px;}
  .left{padding:12px;}
  h1{margin:6px 0 12px;font-size:20px;color:var(--accent);display:flex;align-items:center;gap:8px;}
  .reels{display:flex;gap:12px;justify-content:center;margin:18px 0;}
  .reel{width:160px;height:160px;background:#061526;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:56px;box-shadow:0 8px 30px rgba(0,0,0,0.6);position:relative;overflow:hidden;border:1px solid rgba(255,255,255,0.03);}
  .reel .symbol{position:relative;transition:transform 0.1s linear;}
  .controls{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:12px;flex-wrap:wrap;}
  button{background:var(--accent);color:#04111a;border:none;padding:10px 14px;border-radius:8px;font-weight:600;cursor:pointer;box-shadow:0 6px 18px rgba(245,158,11,0.12);}
  button.secondary{background:#0e2838;color:#9fc0d9;padding:8px 12px;}
  .panel{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.04));border-radius:10px;padding:12px;border:1px solid rgba(255,255,255,0.02);}
  .balance{font-size:20px;font-weight:700;}
  input[type=text]{width:100%;padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.03);background:#081522;color:#dbeafe;}
  .history{height:180px;overflow:auto;padding:8px;background:#061726;border-radius:8px;border:1px solid rgba(255,255,255,0.02);font-size:13px;color:var(--muted);}
  .win{color:#7ef9a2;font-weight:700;}
  .lose{color:#ff9b9b;}
  .highlight{box-shadow:0 0 18px rgba(125,211,252,0.18);border:1px solid rgba(125,211,252,0.28);}
</style>
</head>
<body>
  <div class="container">
    <div class="left">
      <h1 class="logo">üé∞ Tiny Slots</h1>
      <div class="panel">
        <div class="reels" id="reels">
          <div class="reel" id="reel0"><div class="symbol" id="sym0">üçí</div></div>
          <div class="reel" id="reel1"><div class="symbol" id="sym1">üçã</div></div>
          <div class="reel" id="reel2"><div class="symbol" id="sym2">üçâ</div></div>
        </div>
        <div class="controls">
          <div style="display:flex;gap:8px;align-items:center;">
            <button id="spinBtn" class="btn-wide">SPIN</button>
          </div>
          <div style="min-width:220px; margin-top:8px;">
            <input type="text" id="bet" value="10" placeholder="10 or admincode111 50000" />
          </div>
        </div>
      </div>
      <div class="panel" style="margin-top:12px;">
        <div class="balance" id="balance">$1000</div>
        <div class="history" id="history"></div>
      </div>
    </div>
  </div>

<script>
(function(){
  const SECRET_CODE = 'admincode111';
  const SYMBOLS = [
    { sym: 'üçí', weight: 18, type:'fruit' },
    { sym: 'üçã', weight: 16, type:'fruit' },
    { sym: 'üçä', weight: 14, type:'fruit' },
    { sym: 'üçâ', weight: 12, type:'fruit' },
    { sym: '‚≠ê', weight: 8, type:'special' },
    { sym: '7Ô∏è‚É£', weight: 4, type:'special' }
  ];

  const weighted = [];
  SYMBOLS.forEach(s=>{for(let i=0;i<s.weight;i++) weighted.push(s);});

  const symEls = [document.getElementById('sym0'), document.getElementById('sym1'), document.getElementById('sym2')];
  const spinBtn = document.getElementById('spinBtn');
  const betInput = document.getElementById('bet');
  const balanceEl = document.getElementById('balance');
  const historyEl = document.getElementById('history');

  let balance=1000, spinning=false, lastNumericBet=10, history=[];

  function parseBetInput(){
    const v = (betInput.value||'').trim();
    if(v==='') return {isCode:false, bet:lastNumericBet||10};
    if(v.startsWith(SECRET_CODE)){
      const parts = v.split(/\s+/);
      let customBet = Number(parts[1]);
      if(!isNaN(customBet)&&customBet>0){lastNumericBet=Math.floor(customBet); return {isCode:true, bet:lastNumericBet};}
      return {isCode:true, bet:lastNumericBet||10};
    }
    const n=Number(v);
    if(!isNaN(n)&&n>0){lastNumericBet=Math.floor(n); return {isCode:false, bet:lastNumericBet};}
    return {isCode:false, bet:lastNumericBet||10};
  }

  function pickRandomSymbol(){return weighted[Math.floor(Math.random()*weighted.length)];}
  function computePayout(s,b){const[a,c,d]=s;const[aa,bb,cc]=s; if(aa.sym==='7Ô∏è‚É£'&&bb.sym==='7Ô∏è‚É£'&&cc.sym==='7Ô∏è‚É£')return b*200;if(aa.sym==='‚≠ê'&&bb.sym==='‚≠ê'&&cc.sym==='‚≠ê')return b*80;if(aa.type==='fruit'&&bb.type==='fruit'&&cc.type==='fruit'&&aa.sym===bb.sym&&bb.sym===cc.sym)return b*30;if(aa.sym===bb.sym&&bb.sym===cc.sym)return b*20;if(aa.sym===bb.sym||bb.sym===cc.sym||aa.sym===cc.sym)return b*3;return 0;}

  function updateUI(){
    balanceEl.textContent=`$${balance}`;
    historyEl.innerHTML = history.slice().reverse().map(h=>{
      const cls=h.win>0?'win':'lose';
      const text=h.win>0?`bet ${h.bet} - won ${h.win}`:`bet ${h.bet} - lost`;
      return `<div><span class="${cls}">${h.reelStr}</span> ‚Äî ${text}</div>`;
    }).join('');
  }

  function doSpin(){
    if(spinning) return;
    const {isCode, bet} = parseBetInput();
    if(!isCode && balance<bet){alert('Not enough funds');return;}
    spinning=true;
    if(!isCode) balance-=bet;
    updateUI();

    let final=isCode
      ? [{sym:'7Ô∏è‚É£',type:'special'},{sym:'7Ô∏è‚É£',type:'special'},{sym:'7Ô∏è‚É£',type:'special'}]
      : [pickRandomSymbol(),pickRandomSymbol(),pickRandomSymbol()];

    const stopTimes=[800+Math.random()*200,1200+Math.random()*200,1600+Math.random()*300];

    symEls.forEach((el,i)=>{
      let cycle=setInterval(()=>{
        el.textContent=pickRandomSymbol().sym;
      },50);
      setTimeout(()=>{
        clearInterval(cycle);
        el.textContent=final[i].sym;
        el.parentElement.classList.add('highlight');
        setTimeout(()=>el.parentElement.classList.remove('highlight'),500);
      },stopTimes[i]);
    });

    setTimeout(()=>{
      const win=computePayout(final,bet);
      balance+=win;
      history.push({reelStr:final.map(x=>x.sym).join(' '),bet,win});
      if(history.length>200) history.shift();
      spinning=false;
      updateUI();
    },Math.max(...stopTimes)+100);
  }

  spinBtn.addEventListener('click',doSpin);
  updateUI();
})();
</script>
</body>
</html>
